window._dup_global=window._dup_global||{},function(t){var e={global:t,proxyName:!1,basePath:"http://cpro.baidustatic.com/cpro/ui/dup/"};!function(){var n={name:"oojs",namespace:"",config:{global:!1,proxyName:"proxy",basePath:""},$oojs:function(){if(this.config="undefined"!=typeof e?e:this.config,"undefined"!=typeof window)this.global=this.config.global||window,this.runtime="browser",this.basePath=this.config.basePath;else if(t){var i=require("path");this.global=this.config.global||t,this.runtime="node",this.basePath=this.config.basePath?i.resolve(this.config.basePath):process.cwd()+"/src/";var r=module.constructor,o=r.wrap;r.wrap=function(t){return t=t.replace(/define\s*&&\s*define\s*\(/gi,"define(module,"),o(t)},module.exports=this}this.config.proxyName&&(Function.prototype[this.config.proxyName]=this.proxy),this.global.define=this.proxy(this,this.define),this.global.oojs=n},fastClone:function(t){var e=function(){};e.prototype=t;var n=new e;return n},proxy:function(){var t=Array.prototype.slice.apply(arguments),e=t.shift(),n="function"==typeof this?this:t.shift();return function(){var i=Array.prototype.slice.apply(arguments);return n.apply(e,i.concat(t))}},create:function(t){var e=Array.prototype.slice.call(arguments,0);e.shift();var n=t.name||"init",i=function(t){this[n]=this[n]||function(){},this[n].apply(this,t)};i.prototype=t;var r=new i(e);for(var o in t){var a=t[o];a&&t.hasOwnProperty(o)&&"object"==typeof a&&(r[o]=this.fastClone(a))}return r.instances=null,r},inherit:function(t,e){t="string"==typeof t?this.using(t):t,e="string"==typeof e?this.using(e):e;for(var n in e)n&&e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])},loadDeps:function(t,e){e=e||{};var n=t.deps,i=!0;for(var r in n)if(r&&n.hasOwnProperty(r)&&n[r]){var o=n[r];if(t[r]=this.find(o),e&&e[o])continue;if(e[o]=!0,t[r])t[r].deps&&(i=i&&this.loadDeps(t[r],e));else{if("node"===this.runtime)try{t[r]=require(this.getClassPath(o))}catch(a){}t[r]||(i=!1)}}return i},define:function(t,e){e||(e=t);var n=e.name;e.namespace=e.namespace||"",e.dispose=e.dispose||function(){};for(var i,r=e.namespace.split("."),o=r.length,a=this.global,s=0;o>s;s++)i=r[s],i&&(a[i]=a[i]||{},a=a[i]);if(a[n]=a[n]||{},a[n].name&&a[n].___registered){if(a[n].___registered&&e.classType&&"extend"===e.classType){for(var c in e)c&&e.hasOwnProperty(c)&&(a[n][c]=e[c]);e=a[n]}}else e.___registered=!0,a[n]=e;e=a[n];var u=this.loadDeps(e);if(!u&&"browser"===this.runtime&&this.loadDepsBrowser)this.loadDepsBrowser(e);else{var d="$"+n;e[d]&&e[d]()}return t&&"node"===this.runtime&&(t.exports=e),this},find:function(t){var e,n=t.split(".");e=this.global[n[0]];for(var i=1,r=n.length;r>i;i++){if(!e||!e[n[i]]){e=null;break}e=e[n[i]]}return e},using:function(t){var e=this.find(t);return e||"node"===this.runtime&&(require(this.getClassPath(t)),e=this.find(t)),e},getClassPath:function(t){return this.basePath+t.replace(/\./gi,"/")+".js"}};return n.$oojs(),n.define("undefined"!=typeof module?module:null,n),n}()}(_dup_global),function(t){t.define({name:"data",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang",dom:"dup.common.utility.dom"},$data:function(){this.pageInfo={}},data:function(){this.topWin=this.dom.getNotCrossDomainTopWindow(),this.globalInfo=this.topWin[STORE_NAME]||(this.topWin[STORE_NAME]={})},putInfo:function(t,e,n){var i,r=n?this.globalInfo:this.pageInfo;if("string"===this.lang.getType(t)){for(var o=t.split("."),a=r;o.length;){var s=o.shift();a[s]=o.length?void 0!==a[s]?a[s]:{}:e,a=a[s]}i=e}return i},removeInfo:function(t,e){var n=e?this.globalInfo:this.pageInfo;switch(this.lang.getType(t)){default:return!1;case"string":for(var i=t.split(".");i.length;){var r=i.shift();if(!i.length||void 0===n[r])return delete n[r],!0;n=n[r]}}return!1},getInfo:function(t,e){var n,i=e?this.globalInfo:this.pageInfo;return"string"===this.lang.getType(t)&&(n=this.lang.getAttribute(i,t)),n},getOnce:function(t){var e=window,n=e[t];return e[t]=void 0,n},defineOnce:function(t,e){var n=window;return n[t]?n[t]:(n[t]=e,e)}}),t.define({name:"cookie",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang"},get:function(t,e){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=n.exec(document.cookie);return i?e?decodeURIComponent(i[2]):i[2]:""},set:function(t,e,n,i){var r=n.expires;document.cookie=t+"="+(i?encodeURIComponent(e):e)+(n.path?"; path="+n.path:"")+(r?"; expires="+r.toGMTString():"")+(n.domain?"; domain="+n.domain:"")},remove:function(t){var e=new Date;e.setTime(e.getTime()-86400),this.set(t,"",{path:"/",expires:e})}}),t.define({name:"url",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom"},getQueryValue:function(t,e,n){var i=new RegExp("(\\?|&|#)"+e+"=([^&#]*)(&|#)?"),r=t.match(i),o="";return r&&(o=r[2]),n&&(o=decodeURIComponent(o)),o},getTopWindowUrl:function(t){var e=this.dom.getNotCrossDomainTopWindow(t),n="";return this.dom.isInIframe(e)&&(n=e.document.referrer),n=n||e.location.href},getMainDomain:function(t){t=t||document.domain,0===t.indexOf("www.")&&(t=t.substr(4)),"."===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1));var e=["com","cn","net","org","gov","info","la","cc","co","jp","us","hk","tv","me","biz","in","be","io","tk","cm","li","ru","ws","hn","fm","tw","ma","in","vn","name","mx","gd","im"],n=new RegExp("([a-z0-9][a-z0-9\\-]*?\\.(?:"+e.join("|")+")(?:\\.(?:cn|jp|tw|ru|th))?)$","i"),i=t.match(n);return i?i[0]:t}}),t.define({name:"browser",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang"},$browser:function(){this.nav=window.navigator,this.checkBrowser()},checkBrowser:function(){var t=navigator.userAgent,e=window.RegExp;/msie (\d+\.\d)/i.test(t)&&(this.ie=document.documentMode||+e.$1),/opera\/(\d+\.\d)/i.test(t)&&(this.opera=+e.$1),/firefox\/(\d+\.\d)/i.test(t)&&(this.firefox=+e.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(t)&&!/chrome/i.test(t)&&(this.safari=+(e.$1||e.$2)),/chrome\/(\d+\.\d)/i.test(t)&&(this.chrome=+e.$1,this.test360()&&(this.qihoo=!0));try{/(\d+\.\d)/.test(this.lang.getAttribute(window,"external.max_version"))&&(this.maxthon=+e.$1)}catch(n){}this.isWebkit=/webkit/i.test(t),this.isGecko=/gecko/i.test(t)&&!/like gecko/i.test(t);for(var i=["Android","iPad","Phone","iOS","iPod","Linux","Macintosh","Windows"],r="",o=0;o<i.length;o++){if(r=i[o],"iPad"===r||"iPhone"===r||"iOS"===r||"iPod"===r){this.isIOS=!0;break}if("Android"===r){this.isAndroid=!0;break}if(t.match(new RegExp(r.toLowerCase(),"i")))break}this.platform=r},test360:function(){try{return"scoped"in document.createElement("style")}catch(t){return!1}},getFlashPlayerVersion:function(){var t=0;try{if(this.nav.plugins&&this.nav.mimeTypes.length){var e=this.nav.plugins["Shockwave Flash"];e&&e.description&&(t=e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(this.win.ActiveXObject&&!this.win.opera)for(var n=10;n>=2;n--)try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);if(i){var r=i.GetVariable("$version");t=r.replace(/WIN/g,"").replace(/,/g,".")}}catch(o){}t=parseInt(t,10),this.getFlashPlayerVersion=function(){return t}}catch(a){t=0}return t}}),t.define({name:"preview",namespace:"dup.business",deps:{data:"dup.common.utility.data",dom:"dup.common.utility.dom",cookie:"dup.common.utility.cookie",lang:"dup.common.utility.lang",url:"dup.common.utility.url"},PREV_TEMP_URL:"http://cpro.baidu.com/cpro/ui/preview/templates/",isUnionPreview:function(t){var e=!1;return t?/cpro_template=/gi.test(t)&&(this.data.putInfo("#unionPreviewSwitch",!0),e=!0):e=!!this.data.getInfo("#unionPreviewSwitch"),e},setUnionPreviewData:function(t){this.data.putInfo("#unionPreviewData",t)},getUnionPreviewData:function(){var t=this.data.getInfo("#unionPreviewData");return t?"prev="+encodeURIComponent(t)+"&pt=union":""},clearUnionPreviewData:function(){this.data.removeInfo("#unionPreviewSwitch"),this.data.removeInfo("#unionPreviewData")},getPreviewUrlData:function(t,e){var n=window.location.href,i=parseInt(t.rsi0,10),r=parseInt(t.rsi1,10),o=parseInt(t.at,10);if(this.isPreview(i,r,e,o,n)){var a=e.indexOf("inlay")>=0||"ui"===e?"bd_cpro_prev":"bd_cpro_fprev",s=this.getPrevValue(e,n),c=t.tn,u=this.parsePreviewData(s),d=null;return e.indexOf("inlay")>=0?d=this.getInlayUrl(parseInt(u.type,10),c,a,s):"float"===e&&(d=this.getFloatUrl(parseInt(u.type,10),c,a,s)),d}return null},parsePreviewData:function(t){return t=decodeURIComponent(t).replace(/\\x1e/g,"&").replace(/\\x1d/g,"=").replace(/\\x1c/g,"?").replace(/\\x5c/g,"\\"),this.lang.jsonToObj(t)},isPreview:function(t,e,n,i,r){var o=!1,a=this.getPrevValue(n,r);if(a){var s=this.parsePreviewData(a);void 0===i&&(i=1),1!==parseInt(s.type,10)&&2===(2&i)?o=parseInt(s.imgWidth,10)===parseInt(t,10)&&parseInt(s.imgHeight,10)===parseInt(e,10):1!==parseInt(s.type,10)||1!==(1&i)&&64!==(64&i)&&32!==(32&i)||(o=!0)}return o},getPrevValue:function(t,e){var n;n=e?e.substring(e.indexOf("?")):this.dom.isInCrossDomainIframe(window)?window.location.search.slice(1):window.top.location.search.slice(1);var i,r=document.referrer,o=t.indexOf("inlay")>=0||"ui"===t?"bd_cpro_prev":"bd_cpro_fprev",a="";try{i=document.cookie}catch(s){}return-1!==n.indexOf(o)&&(a=this.url.getQueryValue(n,o)),!a&&i&&-1!==i.indexOf(o)&&(a=this.cookie.get(o)),a||-1===r.indexOf(o)||(a=this.url.getQueryValue(r,o)),a},getFloatUrl:function(t,e,n,i){var r;r=2===t?"float_image.html":4===t?"float_flash.html":"blank_tips.html";var o=this.PREV_TEMP_URL+r+"?",a="tn="+e+("&"+n+"="+i).replace(/\./g,"%252e")+"&ut="+ +new Date;return{serviceUrl:o,paramString:a}},getInlayUrl:function(t,e,n,i){var r;return r=1===t?e+".html":2===t?"image.html":4===t?"flash.html":"blank_tips.html",{serviceUrl:this.PREV_TEMP_URL+r+"?",paramString:(""+n+"=#"+i+"&ut="+ +new Date).replace(/\.(?!swf)/g,"%252e")}}}),t.define({name:"style",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom",lang:"dup.common.utility.lang",browser:"dup.common.utility.browser"},$style:function(){},getClientWidth:function(t){t=t||window;try{var e=this.dom.getTopElement(t).clientWidth;if(e||0===e)return e}catch(n){}return-1},getClientHeight:function(t){t=t||window;try{var e=this.dom.getTopElement(t).clientHeight;if(e||0===e)return e}catch(n){}return-1},getPositionCore:function(t){var e={top:0,left:0};if(t===this.dom.getTopElement(t))return e;var n=this.dom.getDocument(t),i=n.body,r=n.documentElement;if(t.getBoundingClientRect){var o=t.getBoundingClientRect();e.left=Math.floor(o.left)+Math.max(r.scrollLeft,i.scrollLeft),e.top=Math.floor(o.top)+Math.max(r.scrollTop,i.scrollTop),e.left-=r.clientLeft,e.top-=r.clientTop;var a=this.getStyle(i,"borderLeftWidth"),s=this.getStyle(i,"borderTopWidth"),c=parseInt(a,10),u=parseInt(s,10);e.left-=isNaN(c)?2:c,e.top-=isNaN(u)?2:u}return e},getStyle:function(t,e){if(!t)return"";var n="";n=e.indexOf("-")>-1?e.replace(/[-][^-]{1}/g,function(t){return t.charAt(1).toUpperCase()}):e.replace(/[A-Z]{1}/g,function(t){return"-"+t.charAt(0).toLowerCase()});var i=this.dom.getWindow(t);if(i&&i.getComputedStyle){var r=i.getComputedStyle(t,null);if(r)return r.getPropertyValue(e)||r.getPropertyValue(n)}else if(t.currentStyle){var r=t.currentStyle;return r[e]||r[n]}return""},getPosition:function(t){var e=this.dom.g(t);if(!e)return!1;var n=this.getPositionCore(e),i=this.dom.getWindow(e);if(!i)return n;for(var r=0,o=10;i!==i.parent&&r++<o&&!this.dom.isInCrossDomainIframe(i)&&i.frameElement;){var a=this.getPositionCore(i.frameElement);n.left+=a.left,n.top+=a.top,i=i.parent}return n},getOpacityInWin:function(t){for(var e=t,n=this.dom.getWindow(e),i=100;e&&e.tagName;){var r=100;if(this.browserInfo.ie){if(this.browserInfo.ie>5)try{r=parseInt(this.lang.getAttribute(e,"filters.alpha.opacity"),10)||100}catch(o){}i=i>r?r:i}else{try{r=100*(n.getComputedStyle(e,null).opacity||1)}catch(o){}i*=r/100}e=e.parentNode}return 0===i?0:i||100},getOpacity:function(t){for(var e=this.dom.g(t),n=this.dom.getWindow(e),i=this.getOpacityInWin(e),r=0,o=10;r++<o&&this.dom.isInIframe(n)&&!this.dom.isInCrossDomainIframe(n);){var a=n.frameElement?this.getOpacityInWin(n.frameElement):100;i*=a/100,n=n.parent}return i},getScrollWidth:function(t){t=t||window;try{var e=this.dom.getTopElement(t).scrollWidth;if(e||0===e)return e}catch(n){}return-1},getScrollHeight:function(t){t=t||window;try{var e=this.dom.getTopElement(t).scrollHeight;if(e||0===e)return e}catch(n){}return-1},getScrollTop:function(t){t=t||window;var e=t.document;return t.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},canFixed:function(){var t=!0;return this.browser.ie&&(this.browser.ie<7||"BackCompat"===document.compatMode)&&(t=!1),t}}),t.define({name:"dom",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang",browser:"dup.common.utility.browser"},$dom:function(){},g:function(t,e){return"string"===this.lang.getType(t)&&t.length>0?(e=e||window,e.document.getElementById(t)):!t.nodeName||1!==t.nodeType&&9!==t.nodeType?null:t},getDocument:function(t){return 9===t.nodeType?t:t.ownerDocument||t.document},getWindow:function(t){var e=this.getDocument(t);return e.parentWindow||e.defaultView||null},isWindow:function(t){try{if(t&&"object"==typeof t&&t.document&&"setInterval"in t)return!0}catch(e){return!1}return!1},isInIframe:function(t,e){return e=2===arguments.length?e:t.parent,t!==e||!this.isWindow(t)},checkParentAccess:function(t){try{return!!t.parent.location.toString()}catch(e){return!1}},isInCrossDomainIframe:function(t,e){e=2===arguments.length?e:t.parent;for(var n=0,i=10;n++<i&&this.isInIframe(t,e);){if(!this.checkParentAccess(t))return!0;t=t.parent}return n>=i},ready:function(e,n,i){i=i||this.win||window;var r=i.document;n=n||0,this.domReadyMonitorRunTimes=0,this.readyFuncArray=this.readyFuncArray||[],this.readyFuncArray.push({func:e,delay:n,done:!1});var o=t.proxy(this,function(){var t=!1;this.domReadyMonitorRunTimes++;var e=!1;try{i.frameElement&&(e=!0)}catch(n){e=!0}if(this.browser.ie&&this.browser.ie<9&&!e)try{r.documentElement.doScroll("left"),t=!0}catch(n){}else if("complete"===r.readyState||this.domContentLoaded)t=!0;else if(this.domReadyMonitorRunTimes>3e5)return void(this.domReadyMonitorId&&(i.clearInterval(this.domReadyMonitorId),this.domReadyMonitorId=null));if(t)try{if(this.readyFuncArray&&this.readyFuncArray.length)for(var o=0,a=this.readyFuncArray.length;a>o;o++){var s=this.readyFuncArray[o];s&&s.func&&!s.done&&(s.delay?(s.done=!0,i.setTimeout(s.func,s.delay)):(s.done=!0,s.func()))}}catch(c){throw c}finally{this.domReadyMonitorId&&(i.clearInterval(this.domReadyMonitorId),this.domReadyMonitorId=null)}},this),a=t.proxy(this,function(){this.domContentLoaded=!0,o()});this.domReadyMonitorId||(this.domReadyMonitorId=i.setInterval(o,50),r.addEventListener?(r.addEventListener("DOMContentLoaded",a,!1),i.addEventListener("load",a,!1)):r.attachEvent&&i.attachEvent("onload",a,!1))},bind:function(t,e,n){return"string"==typeof t&&(t=this.one(t)),e=e.replace(/^on/i,"").toLowerCase(),t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n),t},getNotCrossDomainTopWindow:function(t,e){1===arguments.length&&"number"===this.lang.getType(arguments[0])&&(e=arguments[0],t=void 0),e=e||10;for(var n=window,i=0;i++<e&&this.isInIframe(n)&&!this.isInCrossDomainIframe(n)&&(!t||!t(n));)n=n.parent;return n},getTopElement:function(t){var e=this.isWindow(t)?t.document:this.getDocument(t);return"CSS1Compat"===e.compatMode?e.documentElement:e.body}}),t.define({name:"lang",namespace:"dup.common.utility",hasOwn:Object.prototype.hasOwnProperty,getAttribute:function(t,e){for(var n=t,i=e.split(".");i.length;){if(void 0===n||null===n)return void 0;n=n[i.shift()]}return n},serialize:function(t){if("object"!=typeof t)return"";var e=[];for(var n in t)this.hasOwn.call(t,n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")},getType:function(t){for(var e={},n="Array Boolean Date Error Function Number RegExp String".split(" "),i=0,r=n.length;r>i;i++)e["[object "+n[i]+"]"]=n[i].toLowerCase();return null==t?"null":e[Object.prototype.toString.call(t)]||"object"},argumentsToArray:function(t){var e=[];switch(this.getType(t)){case"object":e=Array.prototype.slice.call(t);break;case"array":e=t;break;case"number":case"string":e.push(t)}return e},template:function(t,e){var n=/{(.*?)}/g;return t.replace(n,function(t,n){return e[n]||""})},jsonToObj:function(t){return new Function("return "+t)()}}),t.define({name:"systemParam",namespace:"dup.business.parameter",deps:{dom:"dup.common.utility.dom",style:"dup.common.utility.style"},$systemParam:function(){this.win=window,this.doc=this.win.document,this.screen=this.win.screen,this.nav=this.win.navigator},paramsList:[{key:"psr",value:function(){var t=[this.screen.width,this.screen.height];return t.join("x")}},{key:"par",value:function(){var t=[this.screen.availWidth,this.screen.availHeight];return t.join("x")}},{key:"pis",value:function(){var t=this.dom.isInIframe(this.win)?[this.style.getClientWidth(),this.style.getClientHeight()]:[-1,-1];return t.join("x")}},{key:"ccd",value:function(){return this.screen.colorDepth||0}},{key:"cja",value:function(){return this.nav.javaEnabled().toString()}},{key:"cmi",value:function(){return this.nav.mimeTypes.length||0}},{key:"col",value:function(){return(this.nav.language||this.nav.browserLanguage||this.nav.systemLanguage).replace(/[^a-zA-Z0-9\-]/g,"")}},{key:"cdo",value:function(){var t=this.win.orientation;return void 0===t&&(t=-1),t}},{key:"tcn",value:function(){var t=+new Date;return Math.round(t/1e3)}}]}),t.define({name:"browserParam",namespace:"dup.business.parameter",deps:{config:"dup.common.config",browser:"dup.common.utility.browser",dom:"dup.common.utility.dom",style:"dup.common.utility.style",url:"dup.common.utility.url",cookie:"dup.common.utility.cookie"},$browserParam:function(){this.win=window,this.doc=this.win.document,this.nav=this.win.navigator},paramsList:[{key:"dbv",value:function(){return this.browser.qihoo?"1":this.browser.chrome?"2":"0"}},{key:"drs",value:function(){var t={uninitialized:0,loading:1,loaded:2,interactive:3,complete:4};try{return t[this.doc.readyState]}catch(e){return-1}}},{key:"pcs",value:function(){var t=[this.style.getClientWidth(),this.style.getClientHeight()];return t.join("x")}},{key:"pss",value:function(){var t=[this.style.getScrollWidth(),this.style.getScrollHeight()];return t.join("x")}},{key:"cfv",value:function(){return this.browser.getFlashPlayerVersion()}},{key:"cpl",value:function(){return this.nav.plugins.length||0}},{key:"chi",value:function(){return this.win.history.length||0}},{key:"cce",value:function(){return this.nav.cookieEnabled||0}},{key:"cec",value:function(){return(this.doc.characterSet?this.doc.characterSet:this.doc.charset)||""}},{key:"tlm",value:function(){return Date.parse(this.doc.lastModified)/1e3}},{key:"ltu",encode:!0,value:function(){var e=t.proxy(this,function(t){var e=200,n=60,i=this.style.getClientWidth(t),r=this.style.getClientHeight(t);return e>0&&n>0&&i>2*e&&r>2*n?!0:!1}),n=this.url.getTopWindowUrl(e);return n.indexOf("cpro_prev")>0&&(n=n.slice(0,n.indexOf("?"))),n}},{key:"liu",encode:!0,value:function(){return this.dom.isInIframe(this.win)?this.doc.URL:""}},{key:"ltr",encode:!0,value:function(){var t=this.dom.getNotCrossDomainTopWindow(),e="";try{e=t.opener?t.opener.document.location.href:""}catch(n){}return e||t.document.referrer}},{key:"lcr",encode:!0,value:function(){var t=this.doc.referrer,e=t.replace(/^https?:\/\//,"");e=e.split("/")[0],e=e.split(":")[0],e=this.url.getMainDomain(e);var n=this.url.getMainDomain(),i=this.cookie.get(this.config.LCR_COOKIE_NAME);return i&&n===e?i:n!==e?(this.cookie.set(this.config.LCR_COOKIE_NAME,t,{domain:n}),t):""}}]}),t.define({name:"businessParam",namespace:"dup.business.parameter",deps:{config:"dup.common.config",preview:"dup.business.preview"},paramsList:[{key:"dcb",value:function(){return this.config.LOADER_DEFINE_NAME}},{key:"dtm",value:function(){return this.config.DUP_TM}},{key:"dvi",value:function(){return"0.0"}},{key:"dci",value:function(){return"-1"}},{key:"dds",value:function(){return""}},{key:"dpt",value:function(){var t="none";return this.preview.isUnionPreview()&&(t="union"),t}},{key:"tsr",value:function(){var t=0,e=+new Date;return this.config.startTime&&(t=e-this.config.startTime),t}},{key:"tpr",value:function(){function t(t){try{return!!t.top.location.toString()}catch(e){return!1}}var e,n,i=24e4,r=(new Date).getTime();return n=t(window)?window.top:window,e=n.BAIDU_DUP2_pageFirstRequestTime,e?r-e>=i&&(e=n.BAIDU_DUP2_pageFirstRequestTime=r):e=n.BAIDU_DUP2_pageFirstRequestTime=r,e||""}}]}),t.define({name:"slotParam",namespace:"dup.business.parameter",deps:{dom:"dup.common.utility.dom",style:"dup.common.utility.style"},$slotParam:function(){this.win=window},paramsList:[{key:"di",value:function(){return this.slotInfo.slotId}},{key:"dri",value:function(){return this.slotInfo.index}},{key:"dis",value:function(){var t=0;this.dom.isInIframe(this.win)&&(t+=1),this.dom.isInCrossDomainIframe(this.win,this.win.top)&&(t+=2);var e=this.style.getClientWidth(),n=this.style.getClientHeight();return(40>e||10>n)&&(t+=4),t}},{key:"dai",value:function(){return this.slotInfo.count}},{key:"ps",value:function(){var t=this.dom.g(this.slotInfo.containerId),e=this.style.getPosition(t);return e.top+"x"+e.left}},{key:"coa",encode:!0,value:function(){var t=[],e=this.slotInfo.styleOpenApi;for(var n in e)n&&"undefined"!=typeof e[n]&&e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")}}],setSlotInfo:function(t){this.slotInfo=t}}),t.define({name:"painter",namespace:"dup.ui.painter",deps:{config:"dup.common.config",lang:"dup.common.utility.lang",searchParam:"dup.business.searchParam"},getParamList:function(t){var e=[],n=this.searchParam.getParamInfoById(t.id);for(var i in n)i&&n[i]&&n.hasOwnProperty(i)&&("tn"==i&&n[i].indexOf("float")>-1&&(n[i]="template_float_all_normal"),e.push(i+"="+encodeURIComponent(n[i])));return e},getIframeHtmlSnippet:function(t){var e=["<iframe",' id="{iframeId}"',' {srcAttriName}="{url}"',' width="{iframeWidth}"',' height="{iframeHeight}"',' align="center,center"',' marginwidth="0"',' marginheight="0"',' scrolling="no"',' frameborder="0"',' allowtransparency="true">',"</iframe>"].join(""),n=this.getParamList(t),i={iframeId:"cproIframe_"+t.id,srcAttriName:"src",iframeWidth:t.width,iframeHeight:t.height,url:this.config.POS_URL+n.join("&")};return this.lang.template(e,i)},getHtmlSnippet:function(){},render:function(t){t.status=this.config.STATUS_RENDERED}}),t.define({name:"param",namespace:"dup.business",deps:{slotParams:"dup.business.parameter.slotParam",businessParams:"dup.business.parameter.businessParam",browserParams:"dup.business.parameter.browserParam",systemParams:"dup.business.parameter.systemParam"},$param:function(){},snap:function(t){for(var e=t.paramsList,n=[],i=0,r=e.length;r>i;i++){var o=e[i],a=o.key,s=o.encode,c=o.value;c="function"==typeof c?c.apply(t):c,c=s?encodeURIComponent(c):c,n.push({key:a,value:c})}return n},getParamObj:function(t){var e=[];return this.slotParams.setSlotInfo(t),e=e.concat(this.snap(this.slotParams)),e=e.concat(this.snap(this.businessParams)),e=e.concat(this.snap(this.browserParams)),e=e.concat(this.snap(this.systemParams)),e.push({key:"baidu_id",value:""}),e},getParamString:function(t){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n];e.push(r.key+"="+r.value)}return e=e.join("&"),e.slice(0,2048)}}),t.define({name:"inlayText",namespace:"dup.ui.painter",deps:{config:"dup.common.config",painter:"dup.ui.painter.painter"},$inlayText:function(){},render:function(t){var e=this.painter.getParamList(t),n=this.config.POS_URL+e.join("&");if(t.isAsync){var i=document.createElement("script");i.src=n,i.type="text/javascript";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r)}else document.write('<script charset="utf-8" src="'+n+'"></script>')}}),t.define({name:"searchParam",namespace:"dup.business",deps:{config:"dup.common.config"},$searchParam:function(){this.responseInfoMap={}},getParamInfoById:function(t){var e=this.responseInfoMap[t];return e||(e=this.responseInfoMap[t]={}),e},processResponseInfo:function(t,e){var n=this.getParamInfoById(t.id);n.dtm=this.config.DUP_TM,n.dc="2",n.di=t.slotId,this.processSlotSize(t.id,e);var i=e._html;for(var r in i)r&&i[r]&&i.hasOwnProperty(r)&&(n[r]=i[r])},processSlotSize:function(t,e){var n=e._html,i=n.conW||0,r=n.conH||0,o=parseInt(i,10)||parseInt(e._w,10)||parseInt(e.sw,10)||parseInt(n.rsi0,10),a=parseInt(r,10)||parseInt(e._h,10)||parseInt(e.sh,10)||parseInt(n.rsi1,10),s=this.getParamInfoById(t);s.rsi0=o,s.rsi1=a}}),t.define({name:"slot",namespace:"dup.business",deps:{config:"dup.common.config",param:"dup.business.param"},slotIdCountMap:{},slotCount:0,getDiliveryInfo:function(){var t,e={},n=window.cpro_id;window.cpro_id=null,n&&(t=this.createSlot({slotId:n,productLine:"union",isAsync:!1,dilivery:"cpro-sync"}),e[t.id]=t);var i=window.cproArray;if(window.cproArray=null,i)for(var r=0,o=i.length;o>r;r++)t=this.createSlot({slotId:i[r].id,productLine:"union",isAsync:!0,dilivery:"cpro-async"}),e[t.id]=t;var a=window.cpro_mobile_slot;if(window.cpro_mobile_slot=null,a)for(var r=0,o=a.length;o>r;r++){var s=a[r];t=this.createSlot({slotId:s.id,productLine:"union",isAsync:!0,dilivery:"cpro-async"}),t.styleOpenApi=t.styleOpenApi||{};for(var c in s)c&&s[c]&&s.hasOwnProperty(c)&&(t.styleOpenApi[c]=s[c]);e[t.id]=t}window.slotbydup=window.slotbydup||[],this.delieveryObjArray=this.delieveryObjArray||[],window.slotbydup&&window.slotbydup instanceof Array&&(this.delieveryObjArray=this.delieveryObjArray.concat(window.slotbydup),window.slotbydup=[]);for(var r=0,o=this.delieveryObjArray.length;o>r;r++){var u=this.delieveryObjArray[r];t=this.createSlot({slotId:u.id,productLine:"union",isAsync:!0,dilivery:"dup"}),t.containerId=u.container||t.containerId,t.display=u.display,e[t.id]=t}return this.delieveryObjArray=[],e},createSlot:function(t){var e=t.slotId;this.slotIdCountMap[e]=this.slotIdCountMap[e]||0;var n={};return n.index=this.slotIdCountMap[e]++,n.count=++this.slotCount,n.id=e+"_"+n.index,n.containerId="BAIDU_DUP_wrapper_"+e+n.index,n.slotId=t.slotId,n.productLine=t.productLine,n.isAsync=t.isAsync,n.dilivery=t.dilivery,n.status=this.config.STATUS_CREATE,n.styleOpenApi=window.cproStyleApi&&window.cproStyleApi[e],n},getSlotInfo:function(t){for(var e in t)if(e&&t[e]&&t.hasOwnProperty(e)){var n=t[e];if(n.status>this.config.STATUS_REQUEST)continue;var i=this.param.getParamObj(n),r=this.param.getParamString(i),o=this.config.POS_URL+r;if(n.isAsync){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=o;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}else document.write('<script charset="utf-8" src="'+o+'"></script>');n.status=this.config.STATUS_REQUEST}},createContainer:function(t){for(var e in t)if(e&&t[e]&&t.hasOwnProperty(e)){var n=t[e];if(n.status>this.config.STATUS_CREATE)continue;if("cpro-async"===n.dilivery)n.containerId="cpro_"+n.slotId;else{if("dup"===n.dilivery)continue;document.write('<div id="'+n.containerId+'"></div>')}}}}),t.define({name:"config",namespace:"dup.common",LOADER_DEFINE_NAME:"BAIDU_DUPNEW_define",LCR_COOKIE_NAME:"BAIDU_DUP_lcr",POS_URL:"http://pos.baidu.com/acom?",DUP_TM:"BAIDU_DUP2_SETJSONADSLOT",STATUS_CREATE:1,STATUS_REQUEST:2,STATUS_RENDERED:3,STATUS_FINISH:4,startTime:new Date}),t.define({name:"inlayText",namespace:"dup.ui.dilivery",deps:{config:"dup.common.config",slot:"dup.business.slot",searchParam:"dup.business.searchParam",painter:"dup.ui.painter.inlayText"},$inlayText:function(){},process:function(){this.prepareApi();var t=this.slot.getDiliveryInfo();this.slots=this.slots||{};for(var e in t)e&&t.hasOwnProperty(e)&&(this.slots[e]=t[e]);this.updateApi(),this.slot.createContainer(this.slots),this.slot.getSlotInfo(this.slots)},push:function(t){this.slot.delieveryObjArray=this.slot.delieveryObjArray&&[],this.slot.delieveryObjArray.push(t),this.process()},prepareApi:function(){window[this.config.LOADER_DEFINE_NAME]=window[this.config.LOADER_DEFINE_NAME]||t.proxy(this,function(e,n,i){var r="dup.ui.painter.inlayText";if(0===e.indexOf("request!")){var o=e.split("!")[1],a=this.slots[o],s=t.using(r);this.searchParam.processResponseInfo(a,i.data),s.render(a)}})},updateApi:function(){window.slotbydup=this,window.slotbydup.load=!0}});var e=t.using("dup.ui.dilivery.inlayText");e.process()}(_dup_global.oojs);